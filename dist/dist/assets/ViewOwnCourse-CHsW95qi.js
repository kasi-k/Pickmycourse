import{j as t,p as k,r as n,u as S,d as D,A as T}from"./index-DTIph_Wm.js";import{a as L}from"./index-Cj8Z1iuT.js";const m=({courses:a,handleCourse:r,handleCertificate:o})=>t.jsx("div",{className:"grid grid-cols-12 gap-3 mx-2 mt-6  ",children:a&&a.map((s,p)=>t.jsxs("div",{className:"lg:col-span-3 md:col-span-4 col-span-12 overflow-hidden shadow-lg bg-[#110038] font-poppins font-extralight",children:[t.jsx("img",{className:"w-full",src:s.photo,alt:"Images"}),t.jsxs("div",{className:"px-4 py-3 ",children:[t.jsxs("div",{className:"text-lg truncate",children:[" ",s.mainTopic]}),t.jsx("p",{className:"text-sm pt-1",children:s.type}),t.jsx("p",{className:"text-sm ",children:k(s.date)})]}),t.jsx("button",{className:" text-lg bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] w-1/2 py-2.5 font-normal ",onClick:()=>r(s.content,s.mainTopic,s.type,s._id,s.completed,s.end),children:"Continue"}),s.completed===!0&&t.jsx("button",{className:" text-lg bg-white text-black w-1/2 py-2.5 font-normal",onClick:()=>o(s.mainTopic,s.end),children:"Certificate"})]},p))}),U=()=>{const[a,r]=n.useState("tab1"),[o,s]=n.useState([]),[p,w]=n.useState(!0),[c,v]=n.useState(""),g=localStorage.getItem("user"),h=S();n.useEffect(()=>{(async()=>{const i=T+`/api/courses?userId=${g}`;try{const l=await D.get(i);s(l.data),w(!1)}catch{}})()},[g]);const d=(e,i,l,b,f,A)=>{const u=JSON.parse(e);localStorage.setItem("courseId",b),localStorage.setItem("first",f),localStorage.setItem("jsonData",JSON.stringify(u));let j="";f&&(j=A),h("/content",{state:{jsonData:u,mainTopic:i.toUpperCase(),type:l.toLowerCase(),courseId:b,end:j}})},x=(e,i)=>{const l=new Date(i).toLocaleDateString();h("/viewcertificate",{state:{courseTitle:e,end:l}})},C=o.filter(e=>e.completed===!0),N=o.filter(e=>e.completed!==!0),y=o.filter(e=>e.mainTopic.toLowerCase().includes(c.toLowerCase()));return t.jsxs("div",{className:"overflow-auto my-6 -z-10 ",children:[t.jsx("p",{className:"font-extralight text-base mx-2 mb-2 ",children:"Admin Courses"}),t.jsx("hr",{}),t.jsxs("div",{className:"flex justify-between mt-8 mx-4 flex-wrap gap-3 font-poppins",children:[t.jsxs("div",{className:"flex  justify-start gap-3   flex-wrap",children:[t.jsxs("div",{class:"relative inline-block",children:[t.jsx("button",{className:` text-lg  py-1.5 w-36  ${a==="tab1"?"text-white bg-gradient-to-r from-[#3D03FA] to-[#A71CD2]":"text-black bg-white"}`,onClick:()=>r("tab1"),children:"All Courses"}),t.jsx("div",{class:"absolute -top-8 -right-10 w-8 h-8 bg-[#110038] transform rotate-45 -translate-x-1/2 translate-y-1/2"})]}),t.jsxs("div",{class:"relative inline-block",children:[t.jsx("button",{className:`text-lg py-1.5 w-36  ${a==="tab2"?"text-white bg-gradient-to-r from-[#3D03FA] to-[#A71CD2]":"text-black bg-white"}`,onClick:()=>r("tab2"),children:"Completed"}),t.jsx("div",{class:"absolute -top-8 -right-10 w-8 h-8 bg-[#110038] transform rotate-45 -translate-x-1/2 translate-y-1/2"})]}),t.jsxs("div",{class:"relative inline-block",children:[t.jsx("button",{className:`text-lg  py-1.5 w-36   ${a==="tab3"?"text-white bg-gradient-to-r from-[#3D03FA] to-[#A71CD2]":"text-black bg-white"}`,onClick:()=>r("tab3"),children:"Active"}),t.jsx("div",{class:"absolute -top-8 -right-10 w-8 h-8 bg-[#110038] transform rotate-45 -translate-x-1/2 translate-y-1/2"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-white w-96 px-6 py-1.5  rounded-md mr-3",children:[t.jsx(L,{className:"text-black text-xl"}),t.jsx("input",{type:"text",placeholder:"Search By Course Name",className:"bg-transparent w-full outline-none text-center font-extralight text-black",value:c,onChange:e=>v(e.target.value)})]})]}),t.jsx("hr",{className:"border-2 my-1 border-white mx-1"}),t.jsx("div",{className:"mx-1 overflow-auto",children:a==="tab1"&&t.jsx(m,{courses:y,handleCourse:d,handleCertificate:x})}),t.jsx("div",{className:"mx-1 ",children:a==="tab2"&&t.jsx(m,{courses:C.filter(e=>e.mainTopic.toLowerCase().includes(c.toLowerCase())),handleCourse:d,handleCertificate:x})}),t.jsx("div",{className:"mx-1 ",children:a==="tab3"&&t.jsx(m,{courses:N.filter(e=>e.mainTopic.toLowerCase().includes(c.toLowerCase())),handleCourse:d,handleCertificate:x})})]})};export{U as default};
