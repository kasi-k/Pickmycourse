import{j as l,g as je,R as ce,r as O,k as Me,u as Ve,L as Ue,S as Se,K as $e,A as V,d as U,N as Ye,B as re}from"./index-cr5avmQX.js";import{b as Fe,c as Be}from"./index-Ca1wSfG0.js";import{P as N}from"./index-Cn956y_2.js";const ze=({text:r,len:e})=>{const t=r.split(" "),c=t.length>e?t.slice(0,e).join(" ")+"...":r;return l.jsx("span",{className:" whitespace-normal text-xl  text-white mx-8 font-poppins font-normal",children:c})};var Ge=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var a,c,o;if(Array.isArray(e)){if(a=e.length,a!=t.length)return!1;for(c=a;c--!==0;)if(!r(e[c],t[c]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),a=o.length,a!==Object.keys(t).length)return!1;for(c=a;c--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[c]))return!1;for(c=a;c--!==0;){var v=o[c];if(!r(e[v],t[v]))return!1}return!0}return e!==e&&t!==t};const qe=je(Ge);var ue={exports:{}},Ae;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Ae=function(){var r={},e={};return r.on=function(t,a){var c={name:t,handler:a};return e[t]=e[t]||[],e[t].unshift(c),c},r.off=function(t){var a=e[t.name].indexOf(t);a!==-1&&e[t.name].splice(a,1)},r.trigger=function(t,a){var c=e[t],o;if(c)for(o=c.length;o--;)c[o].handler(a)},r};var Je=Ae,de={exports:{}},Qe=function(e,t,a){var c=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof t=="function"&&(a=t,t={}),t=t||{},a=a||function(){},o.type=t.type||"text/javascript",o.charset=t.charset||"utf8",o.async="async"in t?!!t.async:!0,o.src=e,t.attrs&&He(o,t.attrs),t.text&&(o.text=""+t.text);var v="onload"in o?Ce:We;v(o,a),o.onload||Ce(o,a),c.appendChild(o)};function He(r,e){for(var t in e)r.setAttribute(t,e[t])}function Ce(r,e){r.onload=function(){this.onerror=this.onload=null,e(null,r)},r.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),r)}}function We(r,e){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,r))}}(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Qe,a=c(t);function c(o){return o.__esModule?o:{default:o}}e.default=function(o){var v=new Promise(function(b){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){b(window.YT);return}else{var x=window.location.protocol==="http:"?"http:":"https:";(0,a.default)(x+"//www.youtube.com/iframe_api",function(u){u&&o.trigger("error",u)})}var i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){i&&i(),b(window.YT)}});return v},r.exports=e.default})(de,de.exports);var Ze=de.exports,fe={exports:{}},he={exports:{}},pe={exports:{}},W=1e3,Z=W*60,K=Z*60,X=K*24,Ke=X*365.25,Xe=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return et(r);if(t==="number"&&isNaN(r)===!1)return e.long?rt(r):tt(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function et(r){if(r=String(r),!(r.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),a=(e[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return t*Ke;case"days":case"day":case"d":return t*X;case"hours":case"hour":case"hrs":case"hr":case"h":return t*K;case"minutes":case"minute":case"mins":case"min":case"m":return t*Z;case"seconds":case"second":case"secs":case"sec":case"s":return t*W;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function tt(r){return r>=X?Math.round(r/X)+"d":r>=K?Math.round(r/K)+"h":r>=Z?Math.round(r/Z)+"m":r>=W?Math.round(r/W)+"s":r+"ms"}function rt(r){return ae(r,X,"day")||ae(r,K,"hour")||ae(r,Z,"minute")||ae(r,W,"second")||r+" ms"}function ae(r,e,t){if(!(r<e))return r<e*1.5?Math.floor(r/e)+" "+t:Math.ceil(r/e)+" "+t+"s"}(function(r,e){e=r.exports=c.debug=c.default=c,e.coerce=x,e.disable=v,e.enable=o,e.enabled=b,e.humanize=Xe,e.names=[],e.skips=[],e.formatters={};var t;function a(i){var u=0,d;for(d in i)u=(u<<5)-u+i.charCodeAt(d),u|=0;return e.colors[Math.abs(u)%e.colors.length]}function c(i){function u(){if(u.enabled){var d=u,w=+new Date,C=w-(t||w);d.diff=C,d.prev=t,d.curr=w,t=w;for(var m=new Array(arguments.length),E=0;E<m.length;E++)m[E]=arguments[E];m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var P=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(_,A){if(_==="%%")return _;P++;var T=e.formatters[A];if(typeof T=="function"){var $=m[P];_=T.call(d,$),m.splice(P,1),P--}return _}),e.formatArgs.call(d,m);var j=u.log||e.log||console.log.bind(console);j.apply(d,m)}}return u.namespace=i,u.enabled=e.enabled(i),u.useColors=e.useColors(),u.color=a(i),typeof e.init=="function"&&e.init(u),u}function o(i){e.save(i),e.names=[],e.skips=[];for(var u=(typeof i=="string"?i:"").split(/[\s,]+/),d=u.length,w=0;w<d;w++)u[w]&&(i=u[w].replace(/\*/g,".*?"),i[0]==="-"?e.skips.push(new RegExp("^"+i.substr(1)+"$")):e.names.push(new RegExp("^"+i+"$")))}function v(){e.enable("")}function b(i){var u,d;for(u=0,d=e.skips.length;u<d;u++)if(e.skips[u].test(i))return!1;for(u=0,d=e.names.length;u<d;u++)if(e.names[u].test(i))return!0;return!1}function x(i){return i instanceof Error?i.stack||i.message:i}})(pe,pe.exports);var at=pe.exports;(function(r,e){var t={};e=r.exports=at,e.log=o,e.formatArgs=c,e.save=v,e.load=b,e.useColors=a,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:x(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(i){try{return JSON.stringify(i)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function c(i){var u=this.useColors;if(i[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+i[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var d="color: "+this.color;i.splice(1,0,d,"color: inherit");var w=0,C=0;i[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(w++,m==="%c"&&(C=w))}),i.splice(C,0,d)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function v(i){try{i==null?e.storage.removeItem("debug"):e.storage.debug=i}catch{}}function b(){var i;try{i=e.storage.debug}catch{}return!i&&typeof process<"u"&&"env"in process&&(i=t.DEBUG),i}e.enable(b());function x(){try{return window.localStorage}catch{}}})(he,he.exports);var nt=he.exports,ye={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],r.exports=e.default})(ye,ye.exports);var ot=ye.exports,ge={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],r.exports=e.default})(ge,ge.exports);var st=ge.exports,me={exports:{}},ve={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},r.exports=e.default})(ve,ve.exports);var it=ve.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=it,a=c(t);function c(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},r.exports=e.default})(me,me.exports);var lt=me.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=nt,a=u(t),c=ot,o=u(c),v=st,b=u(v),x=lt,i=u(x);function u(C){return C&&C.__esModule?C:{default:C}}var d=(0,a.default)("youtube-player"),w={};w.proxyEvents=function(C){var m={},E=function(Y){var D="on"+Y.slice(0,1).toUpperCase()+Y.slice(1);m[D]=function(k){d('event "%s"',D,k),C.trigger(Y,k)}},P=!0,j=!1,_=void 0;try{for(var A=b.default[Symbol.iterator](),T;!(P=(T=A.next()).done);P=!0){var $=T.value;E($)}}catch(F){j=!0,_=F}finally{try{!P&&A.return&&A.return()}finally{if(j)throw _}}return m},w.promisifyPlayer=function(C){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E={},P=function(D){m&&i.default[D]?E[D]=function(){for(var k=arguments.length,B=Array(k),R=0;R<k;R++)B[R]=arguments[R];return C.then(function(I){var L=i.default[D],se=I.getPlayerState(),z=I[D].apply(I,B);return L.stateChangeRequired||Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(se)===-1?new Promise(function(G){var ie=function ee(){var Q=I.getPlayerState(),q=void 0;typeof L.timeout=="number"&&(q=setTimeout(function(){I.removeEventListener("onStateChange",ee),G()},L.timeout)),Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(Q)!==-1&&(I.removeEventListener("onStateChange",ee),clearTimeout(q),G())};I.addEventListener("onStateChange",ie)}).then(function(){return z}):z})}:E[D]=function(){for(var k=arguments.length,B=Array(k),R=0;R<k;R++)B[R]=arguments[R];return C.then(function(I){return I[D].apply(I,B)})}},j=!0,_=!1,A=void 0;try{for(var T=o.default[Symbol.iterator](),$;!(j=($=T.next()).done);j=!0){var F=$.value;P(F)}}catch(Y){_=!0,A=Y}finally{try{!j&&T.return&&T.return()}finally{if(_)throw A}}return E},e.default=w,r.exports=e.default})(fe,fe.exports);var ct=fe.exports;(function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},a=Je,c=i(a),o=Ze,v=i(o),b=ct,x=i(b);function i(d){return d&&d.__esModule?d:{default:d}}var u=void 0;e.default=function(d){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=(0,c.default)();if(u||(u=(0,v.default)(m)),w.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');w.events=x.default.proxyEvents(m);var E=new Promise(function(j){if((typeof d>"u"?"undefined":t(d))==="object"&&d.playVideo instanceof Function){var _=d;j(_)}else u.then(function(A){var T=new A.Player(d,w);return m.on("ready",function(){j(T)}),null})}),P=x.default.promisifyPlayer(E,C);return P.on=m.on,P.off=m.off,P},r.exports=e.default})(ue,ue.exports);var ut=ue.exports;const dt=je(ut);var ft=Object.defineProperty,ht=Object.defineProperties,pt=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,Ne=(r,e,t)=>e in r?ft(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xe=(r,e)=>{for(var t in e||(e={}))yt.call(e,t)&&Ne(r,t,e[t]);if(_e)for(var t of _e(e))gt.call(e,t)&&Ne(r,t,e[t]);return r},we=(r,e)=>ht(r,pt(e)),mt=(r,e,t)=>new Promise((a,c)=>{var o=x=>{try{b(t.next(x))}catch(i){c(i)}},v=x=>{try{b(t.throw(x))}catch(i){c(i)}},b=x=>x.done?a(x.value):Promise.resolve(x.value).then(o,v);b((t=t.apply(r,e)).next())});function vt(r,e){var t,a;if(r.videoId!==e.videoId)return!0;const c=((t=r.opts)==null?void 0:t.playerVars)||{},o=((a=e.opts)==null?void 0:a.playerVars)||{};return c.start!==o.start||c.end!==o.end}function Ee(r={}){return we(xe({},r),{height:0,width:0,playerVars:we(xe({},r.playerVars),{autoplay:0,start:0,end:0})})}function xt(r,e){return r.videoId!==e.videoId||!qe(Ee(r.opts),Ee(e.opts))}function wt(r,e){var t,a,c,o;return r.id!==e.id||r.className!==e.className||((t=r.opts)==null?void 0:t.width)!==((a=e.opts)==null?void 0:a.width)||((c=r.opts)==null?void 0:c.height)!==((o=e.opts)==null?void 0:o.height)||r.iframeClassName!==e.iframeClassName||r.title!==e.title}var bt={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Pt={videoId:N.string,id:N.string,className:N.string,iframeClassName:N.string,style:N.object,title:N.string,loading:N.oneOf(["lazy","eager"]),opts:N.objectOf(N.any),onReady:N.func,onError:N.func,onPlay:N.func,onPause:N.func,onEnd:N.func,onStateChange:N.func,onPlaybackRateChange:N.func,onPlaybackQualityChange:N.func},ne=class extends ce.Component{constructor(r){super(r),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,a;return(a=(t=this.props).onReady)==null?void 0:a.call(t,e)},this.onPlayerError=e=>{var t,a;return(a=(t=this.props).onError)==null?void 0:a.call(t,e)},this.onPlayerStateChange=e=>{var t,a,c,o,v,b,x,i;switch((a=(t=this.props).onStateChange)==null||a.call(t,e),e.data){case ne.PlayerState.ENDED:(o=(c=this.props).onEnd)==null||o.call(c,e);break;case ne.PlayerState.PLAYING:(b=(v=this.props).onPlay)==null||b.call(v,e);break;case ne.PlayerState.PAUSED:(i=(x=this.props).onPause)==null||i.call(x,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,a;return(a=(t=this.props).onPlaybackRateChange)==null?void 0:a.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,a;return(a=(t=this.props).onPlaybackQualityChange)==null?void 0:a.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=we(xe({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=dt(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,a,c;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let o=!1;const v={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(v.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(v.endSeconds=this.props.opts.playerVars.end)),o){(a=this.internalPlayer)==null||a.loadVideoById(v);return}(c=this.internalPlayer)==null||c.cueVideoById(v)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(r){return mt(this,null,function*(){wt(r,this.props)&&this.updatePlayer(),xt(r,this.props)&&(yield this.resetPlayer()),vt(r,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ce.createElement("div",{className:this.props.className,style:this.props.style},ce.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},oe=ne;oe.propTypes=Pt;oe.defaultProps=bt;oe.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var St=oe;const Ct="/assets/Ai-Diyg30Ew.png",jt=()=>{O.useState(!1),O.useState("");const{state:r}=Me(),{mainTopic:e,type:t,courseId:a,end:c}=r||{},o=JSON.parse(localStorage.getItem("jsonData"));O.useState(!1);const[v,b]=O.useState(""),[x,i]=O.useState(""),[u,d]=O.useState(""),[w,C]=O.useState(0),[m,E]=O.useState(!1),P=Ve(),[j,_]=O.useState([]),[A,T]=O.useState(""),[$,F]=O.useState(!1),Y=()=>{let s=0,n=0;o[e.toLowerCase()].forEach(h=>{h.subtopics.forEach(p=>{p.done&&s++,n++})});const f=Math.round(s/n*100);C(f),f>="100"&&E(!0)},[D,k]=O.useState({}),B=s=>{k(n=>({...n,[s]:!n[s]}))},R={height:"390",width:"640"};async function I(){if(localStorage.getItem("first")==="true")if(c)P("/viewcertificate",{state:{courseTitle:e,end:c}});else{const n=new Date().toLocaleDateString("en-GB");P("/viewcertificate",{state:{courseTitle:e,end:n}})}else{const s={courseId:a};try{const n=V+"/api/finish";if((await U.post(n,s)).data.success){const p=new Date().toLocaleDateString("en-GB");localStorage.setItem("first","true"),L(p)}else I()}catch{I()}}}async function L(s){const n=localStorage.getItem("fname"),f=localStorage.getItem("email"),h=`<!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="initial-scale=1.0">
            <title>Certificate of Completion</title>
            <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap">
            <style>
            body {
                font-family: 'Roboto', sans-serif;
                text-align: center;
                background-color: #fff;
                margin: 0;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }
        
            .certificate {
                border: 10px solid #000;
                max-width: 600px;
                margin: 20px auto;
                padding: 50px;
                background-color: #fff;
                position: relative;
                color: #000;
                text-align: center;
            }
        
            h1 {
                font-weight: 900;
                font-size: 24px;
                margin-bottom: 10px;
            }
        
            h4 {
                font-weight: 900;
                text-align: center;
                font-size: 20px;
            }
        
            h2 {
                font-weight: 700;
                font-size: 18px;
                margin-top: 10px;
                margin-bottom: 5px;
                text-decoration: underline;
            }
        
            h3 {
                font-weight: 700;
                text-decoration: underline;
                font-size: 16px;
                margin-top: 5px;
                margin-bottom: 10px;
            }
        
            p {
                font-weight: 400;
                line-height: 1.5;
            }
        
            img {
                width: 40px;
                height: 40px;
                margin-right: 10px;
                text-align: center;
                align-self: center;
            }
            </style>
        </head>
        <body>
        
        <div class="certificate">
        <h1>Certificate of Completion 🥇</h1>
        <p>This is to certify that</p>
        <h2>${n}</h2>
        <p>has successfully completed the course on</p>
        <h3>${e}</h3>
        <p>on ${s}.</p>
    
        <div class="signature">
            <img src=''>
            <h4>''</h4>
        </div>
    </div>
        
        </body>
        </html>`;try{const p=V+"/api/sendcertificate";await U.post(p,{html:h,email:f}).then(g=>{P("/viewcertificate",{state:{courseTitle:e,end:s}})}).catch(g=>{P("/viewcertificate",{state:{courseTitle:e,end:s}})})}catch{P("/viewcertificate",{state:{courseTitle:e,end:s}})}}O.useEffect(()=>{be();const s=()=>{let n=0,f=0;o[e.toLowerCase()].forEach(p=>{p.subtopics.forEach(g=>{g.done&&n++,f++})});const h=Math.round(n/f*100);C(h),h>="100"&&E(!0)};if(!e)P("/create");else{w>="100"&&E(!0);const f=o[e.toLowerCase()][0].subtopics[0];f.done=!0,b(f.title),i(f.theory),d(t==="video & text course"?f.youtube:f.image),localStorage.setItem("jsonData",JSON.stringify(o)),s()}},[]);const se=(s,n)=>{const f=o[e.toLowerCase()].find(p=>p.title===s),h=f==null?void 0:f.subtopics.find(p=>p.title===n);if(h.theory===""||h.theory===void 0||h.theory===null)if(t==="video & text course"){const p=`${h.title} ${e} in english`,g=re.loading("Please wait...");q(p,s,n,g,h.title)}else{const p=`Explain me about this subtopic of ${e} with examples :- ${h.title}. Please Strictly Don't Give Additional Resources And Images.`,g=`Example of ${h.title} in ${e}`,y=re.loading("Please wait...");z(p,g,s,n,y)}else b(h.title),i(h.theory),d(t==="video & text course"?h.youtube:h.image)};async function z(s,n,f,h,p){const g={prompt:s};try{const y=V+"/api/generate",J=(await U.post(y,g)).data.text;try{G(J,n,f,h,p)}catch{z(s,n,f,h,p)}}catch{z(s,n,f,h,p)}}async function G(s,n,f,h,p){const g={prompt:n};try{const y=V+"/api/image",S=await U.post(y,g);try{const M=S.data.url;ie(M,s,f,h,p)}catch{G(s,n,f,h,p)}}catch{G(s,n,f,h,p)}}async function ie(s,n,f,h,p){const g=o[e.toLowerCase()].find(S=>S.title===f),y=g==null?void 0:g.subtopics.find(S=>S.title===h);y.theory=n,y.image=s,b(y.title),re.update(p,{render:"Done!",type:"success",isLoading:!1,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0}),i(n),d(t==="video & text course"?y.youtube:s),y.done=!0,Q()}async function ee(s,n,f,h,p){const g=o[e.toLowerCase()].find(S=>S.title===f),y=g==null?void 0:g.subtopics.find(S=>S.title===h);y.theory=n,y.youtube=s,b(y.title),re.update(p,{render:"Done!",type:"success",isLoading:!1,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0}),i(n),d(t==="video & text course"?s:y.image),y.done=!0,Q()}async function Q(){Y(),localStorage.setItem("jsonData",JSON.stringify(o));const s={content:JSON.stringify(o),courseId:a};try{const n=V+"/api/update";await U.post(n,s)}catch{Q()}}async function q(s,n,f,h,p){const g={prompt:s};try{const y=V+"/api/yt",S=await U.post(y,g);try{const M=S.data.url;Te(M,n,f,h,p)}catch{q(s,n,f,h,p)}}catch{q(s,n,f,h,p)}}async function Te(s,n,f,h,p){const g={prompt:s};try{const y=V+"/api/transcript",S=await U.post(y,g);try{const ke=`Summarize this theory in a teaching way :- ${S.data.url.map(Le=>Le.text).join(" ")}.`;H(ke,s,n,f,h)}catch{const J=`Explain me about this subtopic of ${e} with examples :- ${p}. Please Strictly Don't Give Additional Resources And Images.`;H(J,s,n,f,h)}}catch{const S=`Explain me about this subtopic of ${e} with examples :- ${p}.  Please Strictly Don't Give Additional Resources And Images.`;H(S,s,n,f,h)}}async function H(s,n,f,h,p){const g={prompt:s};try{const y=V+"/api/generate",J=(await U.post(y,g)).data.text;try{ee(n,J,f,h,p)}catch{H(s,n,f,h,p)}}catch{H(s,n,f,h,p)}}const Ie=`<p>Hey there! I'm your AI teacher. If you have any questions about your ${e} course, whether it's about videos, images, or theory, just ask me. I'm here to clear your doubts.</p>`,De=`I have a doubt about this topic :- ${e}. Please clarify my doubt in very short :- `,be=async()=>{try{const s=localStorage.getItem(e);if(s!==null)_(JSON.parse(s));else{const n=[...j,{text:Ie,sender:"bot"}];_(n),await le(n)}}catch{be()}},Pe=async()=>{if(A.trim()==="")return;const s={text:A,sender:"user"},n=[...j,s];_(n),await le(n),T("");const h={prompt:De+A},p=V+"/api/chat";try{const g=await U.post(p,h);if(g.data.success===!1)Pe();else{const y={text:g.data.text,sender:"bot"},S=[...n,y];_(S),await le(S)}}catch{}};async function le(s){try{localStorage.setItem(e,JSON.stringify(s))}catch{localStorage.setItem(e,JSON.stringify(s))}}const Oe=()=>{P("/viewcourse")},Re=s=>l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:" flex gap-2 mx-4 items-center text-white font-poppins font-extralight ",onClick:Oe,children:[l.jsx(Fe,{className:"text-lg cursor-pointer"}),l.jsx("p",{className:"my-3 cursor-pointer ",children:" Back to Home"})]}),l.jsx("div",{className:" font-poppins font-extralight ",children:s.map(n=>l.jsx("div",{className:"",children:l.jsxs("div",{className:" ",children:[l.jsxs("button",{onClick:()=>B(n.title),type:"button",className:`inline-flex  justify-between w-full text-left text-lg  text-white px-6 py-2.5 ${D[n.title]?"bg-gradient-to-r from-[#110038] to-[#08006B]":""}`,children:[n.title,l.jsx(Ye,{className:` h-5 w-5 mt-2 transition-transform bg-white text-[#200098] rounded ${D[n.title]?"rotate-180":""}`})]}),D[n.title]&&l.jsx("div",{className:"px-5",children:l.jsx("div",{className:"py-0.5",role:"menu","aria-orientation":"vertical",children:n.subtopics.map(f=>l.jsxs("p",{onClick:()=>se(n.title,f.title),className:"flex py-1 text-base items-center font-extralight text-white cursor-pointer",role:"menuitem",children:[f.title,f.done&&l.jsx(Be,{className:"ml-2",size:12})]},f.title))})})]})},n.title))})]});return l.jsxs(l.Fragment,{children:[l.jsx(Ue,{}),e?l.jsxs("div",{className:"flex flex-col h-screen  ",children:[l.jsx("div",{onClick:()=>F(!0),className:"m-5 fixed bottom-8 right-6 z-40  w-32 h-16  text-white  flex justify-center items-center shadow-md ",children:l.jsx("img",{src:Ct,alt:"Image"})}),l.jsxs("div",{className:"flex flex-row overflow-y-auto mt-12 ",children:[l.jsx("div",{className:"w-3/12 bg-[#200098]  overflow-y-auto",children:l.jsx("div",{className:"mt-3",children:o&&Re(o[e.toLowerCase()])})}),l.jsxs("div",{className:"overflow-y-auto flex-grow flex-col w-9/12 ",children:[l.jsx("nav",{className:"py-5 bg-gradient-to-b from-[#110038] via-[#150243] to-[#150243] border-b border-white flex items-center",children:l.jsxs("div",{className:"ml-1  flex flex-col w-1/2",children:[l.jsx(ze,{text:e,len:10}),m?l.jsx("p",{onClick:I,className:"mr-3 underline cursor-pointer text-white font-normal mx-8",children:"Download Certificate"}):l.jsxs("span",{className:"text-white",children:[l.jsx("p",{className:"w-3/4 text-end mx-4 text-lg font-extralight",children:`${w}%`}),l.jsx("div",{class:"w-3/4 bg-gray-200 rounded-full h-4 dark:bg-gray-700 mx-5",children:l.jsx("div",{class:"bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] h-4 rounded-full",style:{width:`${w}%`}})}),l.jsx("p",{className:"mx-6 mt-0.5 text-sm",children:"Completion status"})]})]})}),l.jsxs("div",{className:"px-5 text-white bg-gradient-to-b from-[#110038] via-[#150243] to-[#300080] pt-5 font-poppins font-extralight",children:[l.jsx("p",{className:"text-white font-normal text-lg",children:v}),l.jsx("div",{className:"overflow-hidden mt-4 text-white text-base pb-10 max-w-full",children:t==="video & text course"?l.jsxs("div",{children:[l.jsx(St,{className:"mb-5",videoId:u,opts:R},u),l.jsx(Se,{text:x})]}):l.jsxs("div",{children:[l.jsx(Se,{text:x}),l.jsx("img",{className:"overflow-hidden p-10",src:u,alt:"Media"})]})})]})]})]}),l.jsx("div",{className:`fixed inset-0 z-50 ${$?"block":"hidden"}`,children:l.jsxs("div",{className:"bg-[#200098] h-full lg:w-96 md:w-80 w-72 right-0 absolute",children:[l.jsx("div",{className:"flex justify-end items-center p-2",children:l.jsx("button",{onClick:()=>F(!1),className:"text-white",children:l.jsx($e,{size:24})})}),l.jsx("div",{className:"overflow-y-auto",style:{height:"calc(100% - 250px)"},children:j.map((s,n)=>l.jsx("div",{className:`flex font-poppins font-extralight text-base ${s.sender==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`rounded-lg  p-1 m-2 ${s.sender==="user","text-center text-white"}`,children:l.jsx("div",{dangerouslySetInnerHTML:{__html:s.text}})})},n))}),l.jsx("div",{className:"mx-6",children:l.jsx("textarea",{value:A,rows:3,placeholder:"Ask Something...",onChange:s=>T(s.target.value),className:"w-full border border-gray-300 rounded-md outline-none p-2 text-center align-middle ",type:"text"})}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{className:"text-white text-base bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] w-1/2 py-2.5 my-5 ",type:"submit",onClick:Pe,children:"Submit"})})]})})]}):null]})};export{jt as default};
